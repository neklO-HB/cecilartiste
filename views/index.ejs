<%- include('partials/header') %>
<section class="identity-hero" aria-labelledby="identity-hero-title">
    <div class="identity-hero__content">
        <p class="identity-hero__eyebrow"><%= heroIntro.heading %></p>
        <h1 class="identity-hero__title" id="identity-hero-title"><%= heroIntro.subheading %></h1>
        <p class="identity-hero__description"><%- nl2br(heroIntro.body) %></p>
        <div class="identity-hero__tags" role="list">
            <span class="identity-hero__tag" role="listitem">Photographe à Amiens</span>
            <span class="identity-hero__tag" role="listitem">Je me déplace partout</span>
        </div>
    </div>
    <div class="identity-hero__visual" aria-hidden="true">
        <div class="identity-hero__image" style="--hero-image: url('<%= heroIntro.image %>')"></div>
        <img class="identity-hero__frame" src="https://i.postimg.cc/brcb2z8C/21314712-8c8f-4d76-829b-f9a4fc4ecb31.png" alt="Illustration artistique colorée retournée horizontalement">
    </div>
</section>
<section class="hero">
    <div class="hero__intro">
        <h2>Photographe à Amiens, vos histoires en lumière</h2>
        <p>
            Bienvenue dans l'univers de Cecil'Artiste, photographe professionnelle basée à Amiens et dans toute la Somme (80).
            Mariage, baptême, anniversaire, grossesse ou arrivée de bébé : je capture vos émotions avec une signature
            artistique et colorée. Explorez chaque catégorie ci-dessous et personnalisez leurs visuels depuis votre espace
            d'administration.
        </p>
        <div class="hero__cta">
            <a class="button" href="#categories-explore">Explorer les catégories</a>
            <a class="button button--ghost" href="/contact">Composer votre projet</a>
        </div>
    </div>
    <div class="hero__mosaic" id="categories-explore">
        <% if (categories && categories.length > 0) { %>
            <% categories.forEach(category => { %>
                <% const categoryHref = category.slug ? `/galerie/${category.slug}` : '/galerie'; %>
                <a class="category-card" href="<%= categoryHref %>">
                    <div class="category-card__media">
                        <% if (category.hero_image_path) { %>
                            <img src="<%= category.hero_image_path %>" alt="Aperçu de la catégorie <%= category.name %>">
                        <% } else { %>
                            <div class="category-card__placeholder">Ajoutez une image depuis l'administration</div>
                        <% } %>
                    </div>
                    <span class="category-card__divider" aria-hidden="true"></span>
                    <div class="category-card__content">
                        <h3><%= category.name %></h3>
                        <span class="category-card__cta">Ouvrir la galerie</span>
                    </div>
                </a>
            <% }) %>
        <% } else { %>
            <% const placeholders = ['Mariage', 'Baptême', 'Anniversaire', 'Grossesse', 'Nouveau-né', 'Autres']; %>
            <% placeholders.forEach(label => { %>
                <article class="category-card">
                    <div class="category-card__media">
                        <div class="category-card__placeholder">Image de catégorie à définir</div>
                    </div>
                    <span class="category-card__divider" aria-hidden="true"></span>
                    <div class="category-card__content">
                        <h3><%= label %></h3>
                    </div>
                </article>
            <% }) %>
        <% } %>
    </div>
</section>

<% if (photos && photos.length > 0) { %>
<section class="photo-viewer" aria-label="Visionneuse immersive">
    <div class="photo-viewer__header">
        <h2>Visionneuse immersive</h2>
        <p>
            Faites défiler les images en plein écran pour ressentir la couleur, la matière et les détails de chaque série.
            Glissez pour voyager d'une ambiance à l'autre.
        </p>
    </div>
    <div class="photo-viewer__carousel">
        <% photos.forEach(photo => { %>
            <% const photoAlt = ((photo.description || '').split(/\r?\n/).find(Boolean) || 'Photographie du portfolio').trim(); %>
            <figure class="photo-viewer__item" style="--photo-accent: <%= photo.accent_color || '#ff6f61' %>;">
                <img src="<%= photo.image_path %>" alt="<%= photoAlt %>">
            </figure>
        <% }) %>
    </div>
</section>
<% } %>

<%- include('partials/footer') %>
